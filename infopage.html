<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- <link rel="stylesheet" type="text/css" href="css/index.css" /> -->
        <!-- <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.3.2.min.css" /> -->
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.flatui.css" />
        <link rel="stylesheet" type="text/css" href="css/card.css" />

        <!--include jquery and jquery mobile before DOM loads-->
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.mobile-1.3.2.min.js"></script>
        <script type='text/javascript' src="js/appear.js"></script>

        <title>Supply Source</title>
    </head>
    <body>
        <!--
        <style>
          .ui-page { background: #16a085;}
        </style>
        -->

        <!-- Home screen -->
        <div data-role="page" id="home" data-theme="b"> 
             <div data-role="panel" id="panel" data-position="right" data-display="push" data-theme="a">
                <a href="#" data-role="button">Hello World</a>
                <a href="#" data-role="button">Hello World 2</a>
                <a href="#" data-role="button">Hello World 3</a>
             </div>
             
             <!-- Header -->
             <div data-role="header" data-theme="b" data-position="fixed"> 
                   <h1>Supply Source</h1> 
                   <!-- Barcode scanner icon -->
                   <a data-iconpos="notext" href="#" data-role="button" class="ui-btn-left" data-icon="flat-camera" onclick="barcodeScanner()"></a>

                   <!-- Sliding Panel -->
                   <a data-iconpos="notext" href="#panel" data-role="button" class="ui-btn-right" data-icon="flat-menu"></a>
             </div> 
             
             <!-- Testing Card Layout -->
            <script type='text/javascript'>
                $(function() {
                    $(document.body).on('appear', '.card', function(e, $affected) {
                    // Add class called “appeared” for each appeared element
                    $(this).addClass("appeared");
                    });
                $('.card').appear({force_process: true});
                });
            </script>

            <div data-role="content">
                </br></br></br><div class="card"><div class="bar">
                <a href="#popupParis" data-rel="popup" data-position-to="window" data-transition="fade"><img class="popphoto" src="http://www.smithdandlins.com/wp-content/uploads/2013/06/farm-thumbnail.jpg" alt="Farm Picture"></a></div>

                <div data-role="popup" id="popupParis" data-overlay-theme="a" data-theme="d" data-corners="false">
                <a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a><img class="popphoto" src="http://www.smithdandlins.com/wp-content/uploads/2013/06/farm-thumbnail.jpg" style="max-height:512px;" alt="Farm Picture">
                </div>


                </br></br></br><center><b>Tanner Farms</b></br><em>Alexandria, VA</em></center></br>Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                </div>

                <div class="card"><center><b>Produce Information</b></center></br>Lorem ipsum dolor sit amet, consectetur adipiscing elit.Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>

                <div class="card"><center><h1>150</h1>Calories</center></div>

                <!--<div class="block"><img src="http://www.smithdandlins.com/wp-content/uploads/2013/06/farm-thumbnail.jpg"></div>-->
     
            </div>

            <!-- <p>Hello World</p> -->

            <!-- <div data-role="content">      
                    <a href="#" data-role="button" style="position: absolute; top: 50%; left:25%; width: 50%; margin-top: -1.2em;" onclick="barcodeScanner()">SCAN ITEM</a>
                 </div> -->
            
        </div>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="barcodescanner.js"></script>
        <script type="text/javascript">
            function barcodeScanner(){
                // Temporarily disabiling alert test since scanner is working
                // alert("clicked");
                var scanner = cordova.require("cordova/plugin/BarcodeScanner");

                scanner.scan(
                    function (result) {
                        alert("We got a barcode\n" +
                        "Result: " + result.text + "\n" +
                        "Format: " + result.format + "\n" +
                        "Cancelled: " + result.cancelled);
                    }, 
                    function (error) {
                        alert("Scanning failed: " + error);
                    }
                );
            }
        </script> 

    </body>
</html>
